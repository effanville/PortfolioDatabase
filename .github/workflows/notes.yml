# ------------------------------------------------------------------------------
# <auto-generated>
#
#     This code was generated.
#
#     - To turn off auto-generation set:
#
#         [GitHubActions (AutoGenerate = false)]
#
#     - To trigger manual generation invoke:
#
#         nuke --generate-configuration GitHubActions_continuous --host GitHubActions
#
# </auto-generated>
# ------------------------------------------------------------------------------

name: notes

on: [workflow_dispatch]

jobs:
  windows-latest:
    name: windows-latest
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
        with:
          token: ${{ secrets.INTERNAL_PAT }}
          fetch-depth: 0
      - name: Generate a changelog
        uses: actions/setup-node@v4
        id: git-cliff
        with:
          node-version: '18'
          check-latest: false
      - run: npm install git-cliff --save-dev
      - run: npm exec git-cliff >> CHANGELOG.md

      - name: Commit report
        run: |
          git config --global user.name 'Effanville'
          git config --global user.email 'effanville@users.noreply.github.com'
          git add CHANGELOG.md
          git commit -am "Automated report"
          git push